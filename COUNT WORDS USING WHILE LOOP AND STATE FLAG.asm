
.MODEL SMALL
.STACK 100H

.DATA
WORDS DB 0
INWORD DB 0
MSG DB 13,10,'TOTAL WORDS = $'

.CODE
MAIN PROC
    MOV AX, @DATA
    MOV DS, AX

READ_LOOP:
    MOV AH, 01H
    INT 21H
    CMP AL, 0DH
    JE DISPLAY

    CMP AL, ' '
    JE SPACE_FOUND

    CMP INWORD, 1
    JE READ_LOOP

    INC WORDS
    MOV INWORD, 1
    JMP READ_LOOP

SPACE_FOUND:
    MOV INWORD, 0
    JMP READ_LOOP

DISPLAY:
    LEA DX, MSG
    MOV AH, 09H
    INT 21H

    MOV DL, WORDS
    ADD DL, '0'
    MOV AH, 02H
    INT 21H

    MOV AH, 4CH
    INT 21H
MAIN ENDP
END MAIN